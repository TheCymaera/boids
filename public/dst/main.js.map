{"version":3,"file":"main.js","sources":["../../../../../misc/npm-packages/open-utilities/src/geometry/Vec2.ts","../../../../../misc/npm-packages/open-utilities/src/geometry/Circle.ts","../../../../../misc/npm-packages/open-utilities/src/geometry/Path.ts","../../../../../misc/npm-packages/open-utilities/src/geometry/Rect.ts","../../../../../misc/npm-packages/open-utilities/src/core/Duration.ts","../../../../../misc/npm-packages/open-utilities/src/rendering-web/AnimationFrameScheduler.ts","../../../../../misc/npm-packages/open-utilities/src/ui/Color.ts","../../../../../misc/npm-packages/open-utilities/src/ui/PathStyle.ts","../../../../../misc/npm-packages/open-utilities/src/ui/ShapeStyle.ts","../../../../../misc/npm-packages/open-utilities/src/rendering-web/Canvas2DRenderer.ts","../../src/ui.ts","../../src/Boid.ts","../../src/main.ts"],"sourcesContent":["export class Vec2 {\n\tx: number;\n\ty: number;\n\tconstructor(x: number, y: number) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t}\n\n\tclone() {\n\t\treturn new Vec2(this.x, this.y);\n\t}\n\n\tlength() {\n\t\treturn Math.sqrt(this.x * this.x + this.y * this.y);\n\t}\n\n\tdistanceTo(other: Vec2) {\n\t\tconst dx = this.x - other.x;\n\t\tconst dy = this.y - other.y;\n\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t}\n\n\tangleTo(other: Vec2) {\n\t\tconst dx = other.x - this.x;\n\t\tconst dy = other.y - this.y;\n\t\treturn Math.atan2(dy, dx);\n\t}\n\n\tnormalize() {\n\t\tconst length = this.length();\n\t\tif (length > 0) {\n\t\t\tthis.x /= length;\n\t\t\tthis.y /= length;\n\t\t}\n\t\treturn this;\n\t}\n\n\tcopy(other: Vec2) {\n\t\tthis.x = other.x;\n\t\tthis.y = other.y;\n\t\treturn this;\n\t}\n\n\tadd(other: Vec2) {\n\t\tthis.x += other.x;\n\t\tthis.y += other.y;\n\t\treturn this;\n\t}\n\n\tsubtract(other: Vec2) {\n\t\tthis.x -= other.x;\n\t\tthis.y -= other.y;\n\t\treturn this;\n\t}\n\n\tmultiply(scale: number) {\n\t\tthis.x *= scale;\n\t\tthis.y *= scale;\n\t\treturn this;\n\t}\n\n\tdivide(scale: number) {\n\t\tthis.x /= scale;\n\t\tthis.y /= scale;\n\t\treturn this;\n\t}\n\n\trotate(angle: number) {\n\t\tconst cos = Math.cos(angle);\n\t\tconst sin = Math.sin(angle);\n\t\tconst x = this.x;\n\t\tconst y = this.y;\n\t\tthis.x = x * cos - y * sin;\n\t\tthis.y = x * sin + y * cos;\n\t\treturn this;\n\t}\n\n\tlerp(target: Vec2, fraction: number) {\n\t\tthis.x += (target.x - this.x) * fraction;\n\t\tthis.y += (target.y - this.y) * fraction;\n\t\treturn this;\n\t}\n\n\ttoString() {\n\t\treturn `Vec2(${this.x.toFixed(3)}, ${this.y.toFixed(3)})`;\n\t}\n\n\tstatic readonly zero = Object.freeze(new Vec2(0, 0));\n}","import { Vec2 } from \"./Vec2.js\";\n\nexport class Circle {\n\tcenter: Vec2;\n\tradius: number;\n\n\tconstructor(center: Vec2, radius: number) {\n\t\tthis.center = center;\n\t\tthis.radius = radius;\n\t}\n\n\tstatic readonly zero = Object.freeze(new Circle(Vec2.zero, 0));\n}","import { Vec2 } from \"./Vec2.js\";\n\nexport class Path {\n\torigin = new Vec2(0, 0);\n\treadonly segments: Path.Segment[] =  [];\n\n\tsetOrigin(origin: Vec2) {\n\t\tthis.origin = origin;\n\t\treturn this;\n\t}\n\n\tlineTo(point: Vec2) {\n\t\tthis.segments.push(new Path.LineTo(point));\n\t\treturn this;\n\t}\n\n\tclose() {\n\t\tthis.segments.push(new Path.Close());\n\t\treturn this;\n\t}\n}\n\n\nexport namespace Path {\n\texport class LineTo {\n\t\tconstructor(readonly point: Vec2) {}\n\t}\n\n\texport class Close {\n\t\tconstructor() {}\n\t}\n\n\texport type Segment = LineTo|Close;\n}\n\n","import { Vec2 } from './Vec2';\n\nexport class Rect {\n\tprivate constructor(\n\t\tpublic x1: number,\n\t\tpublic y1: number,\n\t\tpublic x2: number,\n\t\tpublic y2: number,\n\t) {}\n\n\tstatic readonly zero = Object.freeze(new Rect(0, 0, 0, 0));\n\n\tstatic fromPoints(p1: Vec2, p2: Vec2) {\n\t\treturn new Rect(p1.x, p1.y, p2.x, p2.y);\n\t}\n\n\tstatic fromCenter(center: Vec2, xSize: number, ySize: number) {\n\t\tconst x1 = center.x - xSize / 2;\n\t\tconst y1 = center.y - ySize / 2;\n\t\treturn new Rect(x1, y1, x1 + xSize, y1 + ySize);\n\t}\n\n\tstatic fromDimensions(x: number, y: number, width: number, height: number) {\n\t\treturn new Rect(x, y, x + width, y + height);\n\t}\n\n\tstatic fromCoordinates(x1: number, y1: number, x2: number, y2: number) {\n\t\treturn new Rect(x1, y1, x2, y2);\n\t}\n\n\tclone() {\n\t\treturn new Rect(this.x1, this.y1, this.x2, this.y2);\n\t}\n\n\tget width() {\n\t\treturn this.x2 - this.x1;\n\t}\n\n\tget height() {\n\t\treturn this.y2 - this.y1;\n\t}\n\n\tset width(value: number) {\n\t\tthis.x2 = this.x1 + value;\n\t}\n\n\tset height(value: number) {\n\t\tthis.y2 = this.y1 + value;\n\t}\n\n\tget center() {\n\t\treturn new Vec2(\n\t\t\t(this.x1 + this.x2) / 2,\n\t\t\t(this.y1 + this.y2) / 2\n\t\t);\n\t}\n\n\tset center(value: Vec2) {\n\t\tconst width = this.width;\n\t\tconst height = this.height;\n\t\t\n\t\tthis.x1 = value.x - width / 2;\n\t\tthis.y1 = value.y - height / 2;\n\t\tthis.x2 = value.x + width / 2;\n\t\tthis.y2 = value.y + height / 2;\n\t}\n\n\tget minX() {\n\t\treturn Math.min(this.x1, this.x2);\n\t}\n\n\tget minY() {\n\t\treturn Math.min(this.y1, this.y2);\n\t}\n\n\tget maxX() {\n\t\treturn Math.max(this.x1, this.x2);\n\t}\n\n\tget maxY() {\n\t\treturn Math.max(this.y1, this.y2);\n\t}\n\n\tinflate(amount: number) {\n\t\tthis.x1 -= amount;\n\t\tthis.y1 -= amount;\n\t\tthis.x2 += amount;\n\t\tthis.y2 += amount;\n\t\treturn this;\n\t}\n\n\tdeflate(amount: number) {\n\t\treturn this.inflate(-amount);\n\t}\n\n\ttoString() {\n\t\treturn `Rect(${this.x1.toFixed(3)}, ${this.y1.toFixed(3)}, ${this.width.toFixed(3)}, ${this.height.toFixed(3)})`;\n\t}\n\n\tstatic mapPointOnto(i: Rect, point: Vec2, o: Rect) {\n\t\tconst x = (point.x - i.x1) / (i.x2 - i.x1) * (o.x2 - o.x1) + o.x1;\n\t\tconst y = (point.y - i.y1) / (i.y2 - i.y1) * (o.y2 - o.y1) + o.y1;\n\t\treturn new Vec2(x, y);\n\t}\n\n\tstatic mapRectOnto(i: Rect, r: Rect, o: Rect) {\n\t\treturn Rect.fromPoints(\n\t\t\tRect.mapPointOnto(i, new Vec2(r.x1, r.y1), o), \n\t\t\tRect.mapPointOnto(i, new Vec2(r.x2, r.y2), o),\n\t\t);\n\t}\n}\n\n","/**\n * Duration\n */\n export class Duration {\n\tmilliseconds: number;\n\tconstructor({milliseconds = 0, seconds = 0, minutes = 0, hours = 0, days = 0, weeks = 0}) {\n\t\tthis.milliseconds = (\n\t\t\tmilliseconds +\n\t\t\tseconds * Duration.millisecondsPerSecond +\n\t\t\tminutes * Duration.millisecondsPerMinute +\n\t\t\thours * Duration.millisecondsPerHour +\n\t\t\tdays * Duration.millisecondsPerDay +\n\t\t\tweeks * Duration.millisecondsPerWeek\n\t\t);\n\t}\n\n\tset seconds(value: number) {\n\t\tthis.milliseconds = value * Duration.millisecondsPerSecond;\n\t}\n\n\tget seconds() {\n\t\treturn this.milliseconds / Duration.millisecondsPerSecond;\n\t}\n\n\tset minutes(value: number) {\n\t\tthis.milliseconds = value * Duration.millisecondsPerMinute;\n\t}\n\n\tget minutes() {\n\t\treturn this.milliseconds / Duration.millisecondsPerMinute;\n\t}\n\n\tset hours(value: number) {\n\t\tthis.milliseconds = value * Duration.millisecondsPerHour;\n\t}\n\n\tget hours() {\n\t\treturn this.milliseconds / Duration.millisecondsPerHour;\n\t}\n\n\tset days(value: number) {\n\t\tthis.milliseconds = value * Duration.millisecondsPerDay;\n\t}\n\n\tget days() {\n\t\treturn this.milliseconds / Duration.millisecondsPerDay;\n\t}\n\n\tset weeks(value: number) {\n\t\tthis.milliseconds = value * Duration.millisecondsPerWeek;\n\t}\n\n\tget weeks() {\n\t\treturn this.milliseconds / Duration.millisecondsPerWeek;\n\t}\n\n\n\tget weeksPart() {\n\t\treturn Math.floor(this.milliseconds / Duration.millisecondsPerWeek);\n\t}\n\n\tget daysPart() {\n\t\treturn Math.floor(this.milliseconds / Duration.millisecondsPerDay);\n\t}\n\n\tget hoursPart() {\n\t\treturn Math.floor((this.milliseconds % Duration.millisecondsPerDay) / Duration.millisecondsPerHour);\n\t}\n\n\tget minutesPart() {\n\t\treturn Math.floor((this.milliseconds % Duration.millisecondsPerHour) / Duration.millisecondsPerMinute);\n\t}\n\n\tget secondsPart() {\n\t\treturn Math.floor((this.milliseconds % Duration.millisecondsPerMinute) / Duration.millisecondsPerSecond);\n\t}\n\n\tget millisecondsPart() {\n\t\treturn this.milliseconds % Duration.millisecondsPerSecond;\n\t}\n\n\tclone() {\n\t\treturn new Duration({ milliseconds: this.milliseconds });\n\t}\n\n\tabs() {\n\t\tthis.milliseconds = Math.abs(this.milliseconds);\n\t\treturn this;\n\t}\n\n\ttoString() {\n\t\tconst abs = this.clone().abs();\n\t\treturn `${this.daysPart}:${abs.hoursPart}:${abs.minutesPart}:${abs.secondsPart}:${abs.millisecondsPart}`;\n\t}\n\n\tstatic readonly millisecondsPerSecond \t\t= 1000;\n\tstatic readonly millisecondsPerMinute \t\t= Duration.millisecondsPerSecond * 60;\n\tstatic readonly millisecondsPerHour \t\t= Duration.millisecondsPerMinute * 60;\n\tstatic readonly millisecondsPerDay \t\t\t= Duration.millisecondsPerHour * 24;\n\tstatic readonly millisecondsPerWeek \t\t= Duration.millisecondsPerDay * 7;\n}","import { Duration, } from \"../core/Duration.js\";\n\nexport class AnimationFrameScheduler {\n\tprivate constructor(callback: (elapsedTime: Duration)=>any) {\n\t\tthis.#callback = callback;\n\t\tthis.#handle = requestAnimationFrame(this.#onAnimationFrame);\n\t\tthis.#oldTime = performance.now();\n\t}\n\n\tdispose() {\n\t\tcancelAnimationFrame(this.#handle);\n\t}\n\n\tstatic schedule(): Promise<Duration> {\n\t\tconst oldTime = performance.now();\n\t\treturn new Promise(resolve=>requestAnimationFrame(()=>resolve(new Duration({milliseconds: performance.now() - oldTime}))));\n\t}\n\n\tstatic periodic(callback: (elapsedTime: Duration)=>any) {\n\t\treturn new AnimationFrameScheduler(callback);\n\t}\n\n\t#onAnimationFrame = () => {\n\t\tconst oldTime = this.#oldTime;\n\t\tthis.#oldTime = performance.now();\n\t\tthis.#callback(new Duration({ milliseconds: this.#oldTime - oldTime }));\n\t\tthis.#handle = requestAnimationFrame(this.#onAnimationFrame);\n\t}\n\n\t#oldTime: number;\n\t#handle: number;\n\t#callback: (elapsedTime: Duration)=>any;\n}","export class Color {\n\tr: number;\n\tg: number;\n\tb: number;\n\ta: number;\n\tstatic fromRGBA(r: number, g: number, b: number, a: number): Color {\n\t\treturn new Color(r, g, b, a);\n\t}\n\n\tstatic readonly black = Object.freeze(new Color(0, 0, 0, 255));\n\tstatic readonly white = Object.freeze(new Color(255, 255, 255, 255));\n\tstatic readonly transparent = Object.freeze(new Color(0, 0, 0, 0));\n\n\tprivate constructor(r: number, g: number, b: number, a: number) {\n\t\tthis.r = r | 0;\n\t\tthis.g = g | 0;\n\t\tthis.b = b | 0;\n\t\tthis.a = a | 0;\n\t}\n\n\ttoString() {\n\t\treturn \"#\" + \n\t\tthis.r.toString(16).padStart(2, \"0\") + \n\t\tthis.g.toString(16).padStart(2, \"0\") +\n\t\tthis.b.toString(16).padStart(2, \"0\") +\n\t\tthis.a.toString(16).padStart(2, \"0\");\n\t}\n}","import { Color } from \"./Color.js\";\n\nexport class PathStyle {\n\tcolor: Color;\n\twidth: number;\n\tcap: PathStyle.Cap;\n\tjoin: PathStyle.Join;\n\tmiterLimit: number;\n\t\n\tconstructor({\n\t\tcolor = Color.transparent,\n\t\twidth = 1,\n\t\tcap = PathStyle.Cap.Butt,\n\t\tjoin = PathStyle.Join.Miter,\n\t\tmiterLimit = 10,\n\t} = {}) {\n\t\tthis.color = color;\n\t\tthis.width = width;\n\t\tthis.cap = cap;\n\t\tthis.join = join;\n\t\tthis.miterLimit = miterLimit;\n\t}\n}\n\nexport namespace PathStyle {\n\texport enum Cap {\n\t\tButt,\n\t\tRound,\n\t\tSquare,\n\t}\n\n\texport enum Join {\n\t\tMiter,\n\t\tRound,\n\t\tBevel,\n\t}\n}","import { Color } from \"./Color.js\";\nimport { PathStyle } from \"./PathStyle.js\";\n\nexport class ShapeStyle {\n\tstroke: PathStyle;\n\tfillColor: Color;\n\tconstructor({ \n\t\tstroke = new PathStyle(), \n\t\tfillColor = Color.transparent \n\t} = {}) {\n\t\tthis.stroke = stroke;\n\t\tthis.fillColor = fillColor;\n\t}\n}","import { Circle } from \"../geometry/Circle.js\";\nimport { Vec2, Rect } from \"../geometry/index.js\";\nimport { Path } from \"../geometry/Path.js\";\nimport { Color, Sprite } from \"../ui/index.js\";\nimport { PathStyle } from \"../ui/PathStyle.js\";\nimport { ShapeStyle } from \"../ui/ShapeStyle.js\";\n\n\nexport class Canvas2DRenderer {\n\treadonly ctx: CanvasRenderingContext2D;\n\tconstructor(ctx: CanvasRenderingContext2D) {\n\t\tthis.ctx = ctx;\n\t}\n\n\tstatic fromCanvas(canvas: HTMLCanvasElement): Canvas2DRenderer {\n\t\treturn new Canvas2DRenderer(canvas.getContext(\"2d\")!);\n\t}\n\n\tstatic sampleCSSColor(color: string) {\n\t\tconst canvas = document.createElement(\"canvas\")!;\n\t\tcanvas.width = canvas.height = 1;\n\t\tconst ctx = canvas.getContext('2d')!;\n\t\tctx.fillStyle = color;\n\t\tctx.fillRect(0,0,1,1);\n\t\tconst result = ctx.getImageData(0, 0, 1, 1).data;\n\t\treturn Color.fromRGBA(result[0]!, result[1]!, result[2]!, result[3]!);\n\t}\n\n\tviewportRect(): Rect {\n\t\treturn this.#viewportRect;\n\t}\n\n\tsetViewportRect(viewRect: Rect) {\n\t\tthis.#viewportRect = viewRect;\n\t}\n\n\tclientRect(): Rect {\n\t\treturn Rect.fromCoordinates(0, this.ctx.canvas.clientHeight, this.ctx.canvas.clientWidth, 0);\n\t}\n\n\tbitmapRect(): Rect {\n\t\treturn Rect.fromCoordinates(0, this.ctx.canvas.height, this.ctx.canvas.width, 0);\n\t}\n\n\tclear() {\n\t\tthis.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\n\t}\n\t\n\tdrawLine(point1: Vec2, point2: Vec2, style: PathStyle) {\n\t\tconst p1 = Rect.mapPointOnto(this.#viewportRect, point1, this.bitmapRect());\n\t\tconst p2 = Rect.mapPointOnto(this.#viewportRect, point2, this.bitmapRect());\n\n\t\tthis.#setPathStyle(style);\n\t\tthis.ctx.beginPath();\n\t\tthis.ctx.moveTo(p1.x, p1.y);\n\t\tthis.ctx.lineTo(p2.x, p2.y);\n\t\tthis.ctx.stroke();\n\t}\n\n\tdrawPath(path: Path, style: PathStyle) {\n\t\tthis.#setPathStyle(style);\n\t\tthis.#usePath(path);\n\t\tthis.ctx.stroke();\n\t}\n\n\tdrawShape(path: Path, style: ShapeStyle) {\n\t\tthis.#setShapeStyle(style);\n\t\tthis.#usePath(path);\n\t\tthis.ctx.fill();\n\t\tthis.ctx.stroke();\n\t}\n\n\tdrawCircle(circle: Circle, style: ShapeStyle) {\n\t\tconst center = Rect.mapPointOnto(this.#viewportRect, circle.center, this.bitmapRect());\n\t\tconst radius = circle.radius * this.ctx.canvas.width / this.#viewportRect.width;\n\n\t\tthis.#setShapeStyle(style);\n\t\tthis.ctx.beginPath();\n\t\tthis.ctx.arc(center.x, center.y, radius, 0, 2 * Math.PI);\n\t\tthis.ctx.fill();\n\t\tthis.ctx.stroke();\n\t}\n\n\tdrawRect(rect: Rect, style: ShapeStyle) {\n\t\tconst mappedRect = Rect.mapRectOnto(this.#viewportRect, rect, this.bitmapRect());\n\n\t\tthis.#setShapeStyle(style);\n\t\tthis.ctx.beginPath();\n\t\tthis.ctx.rect(mappedRect.x1, mappedRect.y1, mappedRect.width, mappedRect.height);\n\t\tthis.ctx.fill();\n\t\tthis.ctx.stroke();\n\t}\n\n\tdrawSprite(rect: Rect, sprite: Sprite) {\n\t\tconst mappedRect = Rect.mapRectOnto(this.#viewportRect, rect, this.bitmapRect());\n\t\tconst bitmapRect = sprite.bitmapRect;\n\t\tthis.ctx.drawImage(\n\t\t\tsprite.image, \n\t\t\tbitmapRect.x1,\n\t\t\tbitmapRect.y1,\n\t\t\tbitmapRect.width,\n\t\t\tbitmapRect.height,\n\t\t\tmappedRect.x1, \n\t\t\tmappedRect.y1, \n\t\t\tmappedRect.width,\n\t\t\tmappedRect.height,\n\t\t);\n\t}\n\n\t#viewportRect = Rect.zero;\n\n\t#usePath(path: Path) {\n\t\tthis.ctx.beginPath();\n\t\tconst p = Rect.mapPointOnto(this.#viewportRect, path.origin, this.bitmapRect());\n\t\tthis.ctx.moveTo(p.x, p.y);\n\t\tfor (const segment of path.segments) {\n\t\t\tif (segment instanceof Path.LineTo) {\n\t\t\t\tconst p = Rect.mapPointOnto(this.#viewportRect, segment.point, this.bitmapRect());\n\t\t\t\tthis.ctx.lineTo(p.x, p.y);\n\t\t\t}\n\n\t\t\tif (segment instanceof Path.Close) {\n\t\t\t\tthis.ctx.closePath();\n\t\t\t}\n\t\t}\n\t}\n\n\t#setPathStyle(pathStyle: PathStyle) {\n\t\tthis.ctx.lineWidth = pathStyle.width * this.ctx.canvas.width / this.#viewportRect.width;\n\t\tthis.ctx.strokeStyle = pathStyle.color.toString();\n\t\tthis.ctx.miterLimit = pathStyle.miterLimit;\n\n\t\tswitch (pathStyle.cap) {\n\t\t\tcase PathStyle.Cap.Butt: this.ctx.lineCap = \"butt\"; break;\n\t\t\tcase PathStyle.Cap.Round: this.ctx.lineCap = \"round\"; break;\n\t\t\tcase PathStyle.Cap.Square: this.ctx.lineCap = \"square\"; break;\n\t\t}\n\n\t\tswitch (pathStyle.join) {\n\t\t\tcase PathStyle.Join.Miter: this.ctx.lineJoin = \"miter\"; break;\n\t\t\tcase PathStyle.Join.Round: this.ctx.lineJoin = \"round\"; break;\n\t\t\tcase PathStyle.Join.Bevel: this.ctx.lineJoin = \"bevel\"; break;\n\t\t}\n\t}\n\n\t#setShapeStyle(shapeStyle: ShapeStyle) {\n\t\tthis.#setPathStyle(shapeStyle.stroke);\n\t\tthis.ctx.fillStyle = shapeStyle.fillColor.toString();\n\t}\n}\n\n",null,null,null],"names":["Vec2","x","y","constructor","this","clone","length","Math","sqrt","distanceTo","other","dx","dy","angleTo","atan2","normalize","copy","add","subtract","multiply","scale","divide","rotate","angle","cos","sin","lerp","target","fraction","toString","toFixed","static","Object","freeze","Circle","center","radius","zero","Path","origin","segments","setOrigin","lineTo","point","push","LineTo","close","Close","Rect","x1","y1","x2","y2","p1","p2","xSize","ySize","width","height","value","minX","min","minY","maxX","max","maxY","inflate","amount","deflate","i","o","r","fromPoints","mapPointOnto","Duration","milliseconds","seconds","minutes","hours","days","weeks","millisecondsPerSecond","millisecondsPerMinute","millisecondsPerHour","millisecondsPerDay","millisecondsPerWeek","weeksPart","floor","daysPart","hoursPart","minutesPart","secondsPart","millisecondsPart","abs","AnimationFrameScheduler","callback","handle","requestAnimationFrame","onAnimationFrame","oldTime","performance","now","dispose","cancelAnimationFrame","Promise","resolve","Color","g","b","a","padStart","PathStyle","color","cap","join","miterLimit","transparent","Cap","Butt","Join","Miter","ShapeStyle","stroke","fillColor","Canvas2DRenderer","ctx","canvas","getContext","document","createElement","fillStyle","fillRect","result","getImageData","data","fromRGBA","viewportRect","setViewportRect","viewRect","clientRect","fromCoordinates","clientHeight","clientWidth","bitmapRect","clear","clearRect","drawLine","point1","point2","style","setPathStyle","beginPath","moveTo","drawPath","path","usePath","drawShape","setShapeStyle","fill","drawCircle","circle","arc","PI","drawRect","rect","mappedRect","mapRectOnto","drawSprite","sprite","drawImage","image","p","segment","closePath","pathStyle","lineWidth","strokeStyle","lineCap","Round","Square","lineJoin","Bevel","shapeStyle","button","querySelectorAll","onclick","body","toggleAttribute","async","navigator","share","title","text","querySelector","content","url","window","location","href","e","name","alert","Boid","flockRadius","cohesionStrength","alignmentStrength","maxVelocity","boundsRepelStrength","options","defaultOptions","position","velocity","direction","repelRadius","repelStrength","update","elapsedTime","boids","obstacles","bounds","flock","getInRange","acceleration","stayInBounds","awayFrom","averageVelocity","displacementFromCenter","size","avg","obstacle","displacement","out","Set","renderer","fromCanvas","ResizeObserver","viewportLength","devicePixelRatio","ratio","canvasLength","fromCenter","draw","observe","boid","random","sampleCSSColor","getComputedStyle","getPropertyValue","front","back1","back2","periodic","mouseObstacle","updateMouseCoordinate","event","mouseClientPosition","clientX","clientY","onpointermove","onpointerdown","getElementById","opacity","onpointerup","delete","console","log","defineProperty"],"mappings":"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"}